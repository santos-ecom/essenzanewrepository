<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  DirectoryIndex index.html

  # 1. PROTECTED ROUTES: Do not rewrite these folders. Let Apache serve index.html inside them.
  # This fixes the "White Screen" by preventing the SPA fallback from taking over.
  RewriteRule ^(lavadora|lavadora2|motoserra|motoserra2)(/.*)?$ - [L]

  # 2. ASSETS: Do not rewrite assets.
  RewriteRule ^assets/ - [L]
  RewriteRule ^overrides\.(css|js)$ - [L]

  # 3. SPA FALLBACK: For everything else (unknown routes), serve the App.
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
